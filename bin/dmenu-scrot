#!/bin/sh

chosen=$(printf "region\nall\nfirst\nsecond\nthird\nwindow\nfirst f2s\nsecond s2s\nthird t2s\nall a2s\nregion r2s\nwindow w2s\nfirst f5s\nsecond s5s\nthird t5s\nall a5s\nregion r5s\nwindow w5s" | dmenu -fn 'monospace:size=16')

# first word
modename=$(echo $chosen | awk '{print $1;}')

# second to last character
delay=$(echo -n "$chosen" | tail -c 2 | head -c 1)
if [ "$delay" == "2" ] || [ "$delay" == "5" ]; then
  d="-d $delay"
else
  d=""
  delay="0"
fi

case "$modename" in
  "region")
    mode="-s"
    ;;
  "window")
    mode="-u"
    ;;
  "all")
    mode=""
    ;;
  "first")
    mode="-a 0,0,1920,1080"
    sleep $delay
    d=""
    ;;
  "second")
    mode="-a 1920,0,1920,1080"
    sleep $delay
    d=""
    ;;
  "third")
    mode="-a 3840,0,1920,1080"
    sleep $delay
    d=""
    ;;
esac

if (( $# > 0 )); then
  scrot $d $mode 'Screenshot_%Y-%m-%d_%H-%M-%S.png' -e 'mv $f '"$1"
else
  scrot $d $mode 'Screenshot_%Y-%m-%d_%H-%M-%S.png'
fi
